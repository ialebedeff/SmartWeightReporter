@inherits ReactiveComponentBase<LoginViewModel>;
@page "/login";
@page "/";
@page "/index.html";
@using ReactiveUI.Blazor;


<style>
    .card {
        width: 45%;
        padding: 20px;
        min-width: 300px;
        margin: 20% auto;
    }

    .stack {
        margin: auto auto;
    }

    .button {
        margin-top: 10px;
        height: 45px;
        margin-bottom: 50px;
    }

    .text {
        margin: 10px auto;
        color: #525761;
        font-size: 1.5rem;
        margin-bottom: 20px;
    }
</style>

@if (ViewModel is not null)
{
    <MudCard Outlined="true" Class="card">
        <MudCardContent>
            <MudStack AlignItems="AlignItems.Center">
                <MudText Class="text" Align="Align.Center">Вход</MudText>

                <MudText>@ViewModel.Status</MudText>

                <MudTextField FullWidth="true" Immediate="true" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Login" @bind-Text="@ViewModel.Login" Label="Логин" RequiredError="Введите логин" Required="true" T="string" Variant="Variant.Outlined" />
                <MudTextField FullWidth="true" Immediate="true" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Password" @bind-Text="@ViewModel.Password" Label="Пароль" RequiredError="Введите пароль" Required="true" T="string" Variant="Variant.Outlined" InputType="InputType.Password" />
                <MudButton Class="button" FullWidth="true" Command="ViewModel.LoginCommand" Variant="Variant.Filled" DisableElevation="true" Color="Color.Primary">Войти</MudButton>
            </MudStack>
        </MudCardContent>
    </MudCard>
}

@code {
    [Inject]
    public LoginViewModel LoginViewModel
    {
        get => ViewModel;
        set => ViewModel = value;
    }
}